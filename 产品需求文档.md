# 面试猿刷题平台 - 产品需求文档 (PRD)

## 1. 产品概述

### 1.1 产品定位
**面试猿刷题平台**是一个专业的AI驱动面试八股文智能刷题系统，致力于为求职者提供系统化、结构化的面试题目练习体验，支持AI智能生成题目和答案解析。

### 1.2 目标用户
- **主要用户**：准备技术面试的求职者（校招/社招）
- **次要用户**：技术面试官、培训机构、HR
- **管理员**：内容运营团队
- **用户痛点**：面试题目散乱、缺乏系统整理、答案质量参差不齐、题目数量不足

### 1.3 产品价值
- **对于用户**：提供高质量、系统化的面试题库，支持分模块练习和AI生成的专业答案解析
- **对于平台**：构建AI驱动的面试题库生态，积累优质内容，形成智能化学习社区
- **对于管理员**：提供AI辅助的高效内容管理和批量生成能力

## 2. 功能架构

### 2.1 用户端功能
#### 2.1.1 用户认证模块 (`/api/auth`)
- **核心功能**：完整的用户注册、登录、权限管理系统
- **技术特性**：
  - 基于JWT的无状态认证
  - Sa-Token权限控制框架
  - 支持普通用户、管理员、审核员三种角色
- **API接口**：
  - `POST /api/auth/register` - 用户注册
  - `POST /api/auth/login` - 用户登录（返回JWT令牌）
  - `POST /api/auth/logout` - 用户登出
  - `POST /api/auth/refresh` - 刷新访问令牌
  - `GET /api/auth/me` - 获取当前用户信息

#### 2.1.2 首页模块 (`/`)
- **功能**：展示所有题库列表
- **交互**：
  - 卡片式布局展示题库
  - 显示题库标题、描述、题目数量、标签
  - 点击进入对应题库详情
- **设计特点**：
  - 简洁的卡片设计
  - 支持响应式布局
  - 清晰的信息层级

#### 2.1.3 题库详情模块 (`/banks/[bankId]`)
- **功能**：展示特定题库下的所有题目
- **交互**：
  - 题目列表展示（标题、难度、标签）
  - 筛选和搜索功能
  - 点击题目进入详情
- **状态管理**：
  - 题目状态：草稿、待审核、已发布、已拒绝
  - 难度分级：简单、中等、困难
  - 审核员和内容发布权限控制

#### 2.1.4 题目详情模块 (`/question/[questionId]`)
- **功能**：展示题目完整信息和答案解析
- **交互特性**：
  - ✅ **答案默认隐藏**：用户需要主动点击查看答案
  - 🔒 **隐藏状态设计**：显示锁定图标、"答案已隐藏"提示、"查看答案"按钮
  - 📖 **答案展示**：Markdown格式渲染，支持富文本和代码高亮
- **内容结构**：
  - 题目基本信息：标题、描述、标签
  - 统计信息：浏览量、收藏数
  - 答案解析区域（可折叠/展开）
  - 难度标识和标签展示

### 2.2 管理端功能 (`/admin`)
#### 2.2.1 题库管理 (`/admin/banks`)
- **核心功能**：题库的增删改查操作
- **交互特点**：
  - 表格形式展示所有题库
  - 支持搜索和分页
  - 状态管理和审核流程
  - 封面图片上传功能
- **权限控制**：仅管理员可操作

#### 2.2.2 题目管理 (`/admin/questions`)
- **核心功能**：题目的批量管理和组织
- **交互特点**：
  - 题目列表展示（不显示答案内容）
  - 批量选择和操作
  - **新增**：批量导入功能按钮（黑底白字样式）
  - 题目与题库的绑定关系管理
- **操作流程**：
  1. 选择题目 → 点击"添加到题库"
  2. 输入题库ID → 确认绑定
  3. 支持批量导入（已实现AI辅助生成）

#### 2.2.3 AI智能生成模块 (`/admin/ai-generator`)
- **核心功能**：基于AI的题目批量生成
- **技术特性**：
  - 基于阿里云通义千问模型（qwen-flash）
  - 支持自定义题目数量、难度、主题
  - 自动生成高质量答案和Markdown格式解析
- **生成参数**：
  - 题目数量：1-20题
  - 难度等级：简单(0)、中等(1)、困难(2)
  - 主题范围：Java、Python、前端、后端等
- **输出格式**：结构化的题目数据，可直接导入系统

#### 2.2.4 文件上传管理 (`/admin/upload`)
- **核心功能**：基于阿里云OSS的云存储
- **技术特性**：
  - STS临时凭证授权机制
  - 支持多种文件类型上传
  - 自动文件分类和存储管理
- **功能特性**：
  - 封面图片上传
  - 题目配图管理
  - 支持断点续传和格式验证

### 2.3 审核工作流模块
#### 2.3.1 内容审核系统
- **状态管理**：
  - 草稿(0)：用户保存未提交
  - 待审核(1)：提交审核待处理
  - 已通过(2)：审核通过可发布
  - 已驳回(3)：审核不通过需修改
- **权限体系**：
  - 普通用户：可创建草稿，提交审核
  - 审核员：可审核内容
  - 管理员：全部权限，提交自动通过

### 2.4 搜索和筛选系统
#### 2.4.1 高级搜索功能
- **题目搜索**：
  - 标题关键词模糊搜索
  - 标签精确匹配筛选
  - 难度等级筛选
  - 题库ID关联筛选
- **题库搜索**：
  - 题库名称模糊搜索
  - 标签筛选
  - 状态筛选

#### 2.4.2 标签管理系统
- **标签统计**：自动统计各标签包含的题库数量
- **排序展示**：按题库数量降序排列
- **标签分类**：支持多维度标签分类

## 3. 用户体验设计

### 3.1 交互原则
#### 3.1.1 学习体验优先
- **答案隐藏机制**：模仿真实面试场景，用户需要先思考再看答案
- **渐进式披露**：避免一次性展示过多信息，保持专注
- **AI辅助学习**：提供AI生成的高质量答案解析

#### 3.1.2 内容组织逻辑
```
题库分类 → 题目列表 → 题目详情 → 答案解析
   ↓          ↓         ↓        ↓
  分类学习   选择练习   深度思考   对照学习
```

#### 3.1.3 AI增强体验
- **智能题目生成**：根据用户需求自动生成练习题
- **个性化推荐**：基于学习行为推荐相关题目
- **即时反馈**：AI生成的专业答案解析

### 3.2 视觉设计系统
#### 3.2.1 颜色规范
- **主色**：`#111827` (深灰色) - 传达专业感
- **强调色**：`#facc15` (黄色) - 突出重要信息
- **状态色**：
  - 简单：翠绿色 (`#10b981`)
  - 中等：蓝色 (`#3b82f6`)
  - 困难：紫色 (`#8b5cf6`)
  - 草稿：灰色 (`#6b7280`)
  - 待审核：橙色 (`#f59e0b`)
  - 已通过：绿色 (`#10b981`)
  - 已驳回：红色 (`#ef4444`)

#### 3.2.2 组件设计
- **卡片化布局**：统一的内容容器设计
- **按钮样式**：
  - 主要操作：黑底白字（批量导入、AI生成）
  - 次要操作：轮廓样式（新建题库）
  - 辅助操作：文字链接（查看详情）
- **AI功能标识**：特殊的AI徽章和图标

### 3.3 响应式设计
- **移动端优先**：`< 900px` 优化触控体验
- **桌面端增强**：`≥ 900px` 支持多列布局
- **关键断点**：
  - 320px：单列布局
  - 768px：双列布局
  - 1200px：多列布局

## 4. 产品功能矩阵

| 功能模块 | 用户价值 | 实现状态 | 技术实现 | 用户体验评分 |
|---------|---------|---------|---------|-------------|
| 用户认证系统 | 安全可靠的身份验证 | ✅ 完成 | Sa-Token + JWT | ⭐⭐⭐⭐⭐ |
| 题库浏览 | 快速找到相关题目 | ✅ 完成 | MyBatis-Plus + 分页 | ⭐⭐⭐⭐⭐ |
| 题目练习 | 系统化刷题 | ✅ 完成 | 状态管理 + 缓存 | ⭐⭐⭐⭐⭐ |
| 答案隐藏 | 模拟真实面试 | ✅ 完成 | 前端交互设计 | ⭐⭐⭐⭐⭐ |
| 题库管理 | 内容组织 | ✅ 完成 | 权限控制 + 审核 | ⭐⭐⭐⭐ |
| AI题目生成 | 高效内容生成 | ✅ 完成 | 通义千问模型 | ⭐⭐⭐⭐⭐ |
| 批量导入 | 高效内容录入 | ✅ 完成 | AI辅助生成 | ⭐⭐⭐⭐ |
| 文件上传 | 媒体资源管理 | ✅ 完成 | 阿里云OSS + STS | ⭐⭐⭐⭐ |
| 审核工作流 | 内容质量控制 | ✅ 完成 | 多状态管理 | ⭐⭐⭐⭐ |
| 搜索筛选 | 快速定位内容 | ✅ 完成 | 多维度查询 | ⭐⭐⭐⭐⭐ |
| 用户权限 | 角色权限管理 | ✅ 完成 | RBAC权限模型 | ⭐⭐⭐⭐⭐ |

## 5. 用户旅程分析

### 5.1 求职者用户旅程
```
发现平台 → 浏览题库 → 选择练习 → 查看题目 → 思考答案 → 查看AI解析 → 标记收藏 → 继续练习
```

**关键触点**：
- 首页题库展示吸引用户
- 答案隐藏机制保持用户专注
- AI生成的高质量解析直接影响用户留存
- 搜索筛选功能提升查找效率

### 5.2 管理员用户旅程
```
登录管理后台 → 选择管理模块 → 浏览/搜索内容 → 执行管理操作 → AI辅助内容生成 → 审核发布
```

**效率关注点**：
- AI批量生成题目大幅提升内容产出效率
- 清晰的角色权限控制
- 直观的审核工作流
- 高效的批量操作功能

### 5.3 AI助手旅程
```
接收生成需求 → 理解题目要求 → 生成结构化内容 → 优化答案质量 → 格式化输出 → 导入系统
```

**技术特性**：
- 基于通义千问的专业题目生成
- Markdown格式的标准化输出
- 多维度难度控制
- 主题定制化生成

## 6. 竞争优势

### 6.1 功能优势
1. **AI智能生成**：业界领先的AI题目生成能力，解决内容稀缺问题
2. **答案隐藏机制**：独特的交互设计，模拟真实面试环境
3. **系统化分类**：按题库组织题目，支持精细化管理
4. **响应式体验**：多端一致的优质体验
5. **完整审核工作流**：保证内容质量的审核体系

### 6.2 技术优势
1. **现代化技术栈**：Spring Boot + MyBatis-Plus + Vue3 保证系统稳定性
2. **AI集成**：深度集成阿里云通义千问，提供智能内容生成
3. **云存储方案**：基于阿里云OSS的可靠文件存储
4. **权限控制**：Sa-Token提供企业级权限管理
5. **类型安全**：完整的DTO和VO类型定义

## 7. 迭代规划

### 7.1 已完成功能 ✅
- [x] 完整的用户认证和权限管理系统
- [x] AI智能题目生成功能
- [x] 题目和题库的完整CRUD操作
- [x] 审核工作流和状态管理
- [x] 文件上传和云存储功能
- [x] 多维度搜索和筛选系统
- [x] 批量导入和绑定功能

### 7.2 短期优化（1-2周）
- [ ] 完善前端UI界面和交互体验
- [ ] 优化移动端响应式设计
- [ ] 增强搜索功能和性能优化
- [ ] 完善API文档和错误处理
- [ ] 添加单元测试和集成测试

### 7.3 中期发展（1-2月）
- [ ] 用户个人中心和资料管理
- [ ] 学习进度跟踪和统计
- [ ] 错题本和收藏功能
- [ ] 题目评论和互动系统
- [ ] 社交分享和推荐功能

### 7.4 长期规划（3-6月）
- [ ] AI智能推荐算法优化
- [ ] 社区互动和问答功能
- [ ] 数据分析和学习报告
- [ ] 视频讲解和多媒体内容
- [ ] 企业版和定制化服务

## 8. 技术架构

### 8.1 后端技术栈
- **框架**: Spring Boot 3.x
- **数据库**: MySQL 8.0
- **ORM**: MyBatis-Plus
- **缓存**: Redis
- **权限控制**: Sa-Token
- **文档**: Swagger/OpenAPI 3
- **云服务**: 阿里云OSS + STS
- **AI模型**: 阿里云通义千问 (qwen-flash)

### 8.2 前端技术栈
- **框架**: Vue 3 (Composition API)
- **语言**: TypeScript (严格模式)
- **样式**: Tailwind CSS
- **状态管理**: Pinia
- **数据获取**: Axios
- **UI组件库**: Ant Design Vue
- **构建工具**: Vite

### 8.3 数据库设计
#### 8.3.1 核心数据表
- **用户表 (user)**: 用户基本信息、角色权限
- **题库表 (bank)**: 题库信息、标签、状态管理
- **题目表 (question)**: 题目内容、难度、统计信息
- **审核表 (review)**: 审核记录和流程跟踪
- **关联表 (bank_question)**: 题库题目多对多关系

#### 8.3.2 数据特点
- 支持逻辑删除和数据恢复
- 完整的审核工作流记录
- 统计信息实时更新
- 标签系统支持多维度分类

### 8.4 API接口设计
#### 8.4.1 RESTful API规范
```
认证相关: /api/auth/*
题库管理: /api/bank/*
题目管理: /api/question/*
文件上传: /api/file/*
AI生成:   /api/agent/*
```

#### 8.4.2 响应格式统一
```json
{
  "code": 200,
  "message": "success",
  "data": {
    // 业务数据
  }
}
```

### 8.5 安全设计
- **身份认证**: JWT Token + Sa-Token
- **权限控制**: RBAC角色权限模型
- **数据验证**: 参数校验和SQL注入防护
- **文件安全**: STS临时凭证授权
- **API限流**: 防止恶意请求和刷接口

### 8.6 性能优化
- **数据库优化**: 索引优化和查询性能调优
- **缓存策略**: Redis缓存热点数据
- **分页查询**: 大数据量分页处理
- **CDN加速**: 静态资源CDN分发
- **异步处理**: 批量操作异步执行

## 9. 项目特性

### 9.1 已实现特性 ✅
- ✅ 完整的用户认证和权限管理系统
- ✅ AI智能题目生成（基于通义千问）
- ✅ 完善的审核工作流
- ✅ 云存储文件上传（阿里云OSS）
- ✅ 多维度搜索筛选功能
- ✅ 批量导入和题目绑定
- ✅ RESTful API设计
- ✅ 统一错误处理和响应格式
- ✅ 类型安全的数据传输
- ✅ 完整的日志记录系统

### 9.2 技术亮点
1. **AI驱动的内容生成**：业界领先的AI题目生成能力
2. **企业级权限管理**：Sa-Token提供完善的权限控制
3. **云原生架构**：基于阿里云的云存储和AI服务
4. **响应式设计**：多端适配的现代化界面
5. **高可扩展性**：模块化设计便于功能扩展

---

*本文档基于当前产品功能现状编制，反映真实的产品体验和功能特点。后端功能已完整实现，前端界面正在开发中。*

## 版本记录

| 版本 | 日期 | 更新内容 | 更新人 |
|------|------|---------|--------|
| v1.0 | 2025-11-14 | 初始版本，包含完整产品功能描述 | AI Assistant |
| v1.1 | 2025-11-14 | 完善功能架构，增加AI功能和后端实现细节 | AI Assistant |
